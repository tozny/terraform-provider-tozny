# tozny Provider

Tozny Terraform provider for Infrastructure As Code (IAC) automation of Tozny products.

Can be used to provision Accounts, along with associated Clients, Realms and Identities.

[About Tozny](https://tozny.com).

Questions? Feedback or ideas? Drop us [a line](mailto:support@tozny.com)!

## Example Usage

```hcl
# Include the Tozny Terraform provider
provider "tozny" {
  api_endpoint = "https://api.e3db.com"
  account_username = "test@example.com"
  account_password = "readymyenvironment"
}
```

Alternatively the provider can be configured with file based credentials

```hcl
provider "tozny" {
  api_endpoint = "https://api.e3db.com"
  tozny_credentials_json_filepath = "~/.tozny/e3db.json"
}
```

Minimum required and default `tozny_client_credentials` JSON used and generated by the provider.

```json
{
  "account_password": "XXXXXXXXXXXX",
  "account_user_name": "example@example.com",
  "api_key_id": "032f39b0612de6dd906576898a39bb9099891acb0e332f4b8aae0d7e0e1bd74b",
  "api_secret": "76f2f9301b061e3f8d75fa1ade19f71a93bf40bae9ec0b3ce7c31171b0a18915",
  "api_url": "https://dev.e3db.com",
  "client_email": "",
  "client_id": "6519c686-194d-4225-9830-26f430cf7d66",
  "private_key": "-90-3wPWQIRPTc5k0gguakkJe_qo0ogLNLc7DIVxF38",
  "private_signing_key": "oDShhj39zyoFUUO8cWTS4BWkZ6MZ1aTB7kTHZVRYs5xy6NtWrroqgrKi4N2kfAXmjIT6JiDXkEvIxk5hFyXSZA",
  "public_key": "CKZNZW7PDxr0ARgI2w-ZwiewEm5C59oGipx1itWzqSA",
  "public_signing_key": "cujbVq66KoKyouDdpHwF5oyE-iYg15BLyMZOYRcl0mQ",
  "version": 2
}
```

Note that just providing `account_username` and `account_password` as in the first example is sufficient for the provider to derive the remaining values for its operations.

## Argument Reference

* `api_endpoint` - (Optional) Network location for API management and provisioning of Tozny products & services. Defaults to `https://api.e3db.com`.
* `account_username` - (Optional) Tozny account username. Used to derive client credentials where appropriate. Can also be provided via an environment variable named `TOZNY_ACCOUNT_USERNAME`. Only specify one of `account_username` AND `account_password`, or `tozny_credentials_json_filepath`.
* `account_password` - (Optional) Tozny account password. Used to derive client credentials where appropriate. Can also be provided via an environment variable named `TOZNY_ACCOUNT_PASSWORD`. Only specify one of `account_username` AND `account_password`, or `tozny_credentials_json_filepath`.
* `tozny_credentials_json_filepath` - (Optional) Filepath to Tozny client credentials in JSON format. Defaults to `~/.tozny/e3db.json` . Can also be provided via an environment variable named `TOZNY_CLIENT_CREDENTIALS_FILEPATH`. Only specify one of `account_username` AND `account_password`, or `tozny_credentials_json_filepath`.
